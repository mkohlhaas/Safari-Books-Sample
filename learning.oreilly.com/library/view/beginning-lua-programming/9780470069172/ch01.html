<!--[if IE]><![endif]--><!DOCTYPE html><!--[if IE 8]><html class="no-js ie8 oldie" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/beginning-lua-programming/9780470069172/ch01.html"
data-csrf-cookie="csrfsafari"


  data-user-id="11366403"
  data-user-uuid="ce47de5b-ce80-49f0-b5cd-c60d3d33b198"
  data-username="michaelschiner"
  data-account-type="Trial"
  
  data-activated-trial-date="05/13/2021"


  data-archive="9780470069172"
  data-publishers="Wrox"



  data-htmlfile-name="ch01.html"
  data-epub-title="Beginning Lua Programming" data-debug=0 data-testing=0><![endif]--><!--[if gt IE 8]><!--><html class="no-js" lang="en" prefix="og: http://ogp.me/ns/# og:book: http://ogp.me/ns/book# og:video: http://ogp.me/ns/video#"

    
        itemscope itemtype="http://schema.org/Book http://schema.org/ItemPage" data-login-url="/accounts/login/"
data-offline-url="/"
data-url="/library/view/beginning-lua-programming/9780470069172/ch01.html"
data-csrf-cookie="csrfsafari"


  data-user-id="11366403"
  data-user-uuid="ce47de5b-ce80-49f0-b5cd-c60d3d33b198"
  data-username="michaelschiner"
  data-account-type="Trial"
  
  data-activated-trial-date="05/13/2021"


  data-archive="9780470069172"
  data-publishers="Wrox"



  data-htmlfile-name="ch01.html"
  data-epub-title="Beginning Lua Programming" data-debug=0 data-testing=0><!--<![endif]--><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="author" content="O'Reilly Media" /><meta name="format-detection" content="telephone=no"><meta http-equiv="cleartype" content="on"/><meta name="HandheldFriendly" content="True"/><meta name="MobileOptimized" content="320"/><meta name="apple-itunes-app" content="app-id=881697395, app-argument=safaridetail://9780470069172"/><link rel="shortcut icon" href="https://www.oreilly.com/favicon.ico" /><meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, maximum-scale=1.0"/><meta property="twitter:account_id" content="4503599627559754" /><link rel="shortcut icon" href="https://learning.oreilly.com/favicon.ico" type="image/x-icon"><link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600,700,900,200italic,300italic,400italic,600italic,700italic,900italic' rel='stylesheet' type='text/css'><title>1. Getting Situated - Beginning Lua Programming</title><link rel="stylesheet" href="https://learning.oreilly.com/static/CACHE/css/output.5bdb4fcb2aad.css" type="text/css"><link rel="stylesheet" type="text/css" href="https://learning.oreilly.com/static/css/annotator.e3b0c44298fc.css"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"><style type="text/css" title="ibis-book"></style><script> // <![CDATA[
    var g = {
      position_cache: {
        
          "chapter": "/api/v1/book/9780470069172/chapter/ch01.html",
          "book_id": "9780470069172",
          "chapter_uri": "ch01.html",
          "position": 0,
          "user_uuid": "ce47de5b-ce80-49f0-b5cd-c60d3d33b198",
          "next_chapter_uri": "/library/view/beginning-lua-programming/9780470069172/ch02.html"
        
      },
      title: "Beginning Lua Programming",
      author_list: "Aaron Brown, Kurt Jung",
      format: "book",
      source: "application/epub+zip",
      is_system_book: true,
      is_public: false,
      loaded_from_server: true,
      allow_scripts: false,
      has_mathml: false
    };
    // ]]></script><script src="https://learning.oreilly.com/static/js/src/modernizr.8e35451ddb64.js"></script><script>
    
      

      
        
          window.PUBLIC_ANNOTATIONS = true;
        
      

      window.MOBILE_PUBLIC_ANNOTATIONS = false;

    

    
      window.PRIVACY_CONTROL_OVERRIDE = false;
    

      window.PRIVACY_CONTROL_SWITCH = true;

      window.PUBLISHER_PAGES = true;

      window.SBO = {
        "constants": {
          "SITB_ENDPOINT": "/api/v2/sitb/",
          "SEARCH_SELECT_ENDPOINT": "https://learning.oreilly.com/api/v2/search/select/",
        }
      };
  </script><link rel="canonical" href="ch01.html"/><meta name="description" content="Chapter 1. Getting Situated The first order of business in learning to program in Lua is to acquire and install the necessary tools. For your initial steps, all you need ... "><meta property="og:title" content="1. Getting Situated" /><meta itemprop="isPartOf" content="/library/view/beginning-lua-programming/9780470069172/" /><meta itemprop="name" content="1. Getting Situated" /><meta property="og:url" itemprop="url" content="https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/ch01.html" /><meta property="og:site_name" content="Safari" /><meta property="og:image" itemprop="thumbnailUrl" content="https://learning.oreilly.com/library/cover/9780470069172/" /><meta property="og:description" itemprop="description" content="Chapter 1. Getting Situated The first order of business in learning to program in Lua is to acquire and install the necessary tools. For your initial steps, all you need ... "><meta itemprop="inLanguage" content="en" /><meta itemprop="publisher" content="Wrox" /><meta property="og:type" content="book" /><meta property="og:book:isbn" itemprop="isbn" content="9780470069172" /><meta property="og:book:author" itemprop="author" content="Aaron Brown" /><meta property="og:book:author" itemprop="author" content="Kurt Jung" /><meta property="og:book:tag" itemprop="about" content="Core Programming" /><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@OReillyMedia"><style type="text/css" id="font-styles" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-size: <%= font_size %> !important; }"></style><style type="text/css" id="font-family" data-template="#sbo-rt-content, #sbo-rt-content p, #sbo-rt-content div { font-family: <%= font_family %> !important; }"></style><style type="text/css" id="column-width" data-template="#sbo-rt-content { max-width: <%= column_width %>% !important; margin: 0 auto !important; }"></style><noscript><meta http-equiv="refresh" content="0; URL=https://learning.oreilly.com/library/no-js/" /></noscript><script>
    var dataLayer = window.dataLayer || [];

    
      window.medalliaVsgUserIdentifier = 'ce47de5b-ce80-49f0-b5cd-c60d3d33b198';
      dataLayer.push({userIdentifier: 'ce47de5b-ce80-49f0-b5cd-c60d3d33b198'});
      dataLayer.push({loggedIn: 'yes'});

      
        window.medalliaVsgAccountIdentifier = '29964b7b-68d8-4532-9a9b-32e089689c1f';
        

        window.medalliaVsgIsIndividual = true;
        
          
          dataLayer.push({learningAccountType: 'free trial'});
          
        

        
      
    

    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-5P4V6Z');
    (function () {
      var VERSION = 'V1.1';
      var AUTHOR = 'Awwad';
      if (!window.GtmHelper)
        window.GtmHelper = function () {
          var instance = this;
          var loc = document.location;
          this.version = VERSION;
          this.author = AUTHOR;
          this.readCookie = function (name) {
            var nameEQ = name + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
              var c = ca[i];
              while (c.charAt(0) == ' ') c = c.substring(1, c.length);
              if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
            }
            return null;
          };
          this.createCookie = function (name, value, days, cookieDomain) {
            var domain = "";
            var expires = "";

            if (days) {
              var date = new Date();
              date.setTime(date.getTime() + Math.ceil(days * 24 * 60 * 60 * 1000));
              var expires = " expires=" + date.toGMTString() + ";";
            }

            if (typeof (cookieDomain) != 'undefined')
              domain = " domain=" + cookieDomain + "; ";

            document.cookie = name + "=" + value + ";" + expires + domain + "path=/";
          };

          this.isDuplicated = function (currentTransactionId) {
            // the previous transaction id:
            var previousTransIdValue = this.readCookie("previousTransId");

            if (currentTransactionId === previousTransIdValue) {
              return true; // Duplication
            } else {
              return false;
            }
          };
        }
    })()
  </script><script defer src="https://learning.oreilly.com/static/js/build/vendor.0eac897f11ed.js"></script><script defer src="https://learning.oreilly.com/static/js/build/reader.c745ea9296ac.js"></script></head>


<body class="reading sidenav nav-collapsed  scalefonts">

    
  <noscript> 
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P4V6Z"
            height="0" width="0"
            style="display:none;visibility:hidden">
    </iframe>
  </noscript>



    
      <div class="hide working" role="status">
        <div class="working-image"></div>
      </div>
      <div class="sbo-site-nav">
        

  


<a href="ch01.html#container" class="skip">Skip to content</a><header class="topbar t-topbar"><nav role="navigation" class="js-site-nav"><ul class="topnav"><li><a href="https://learning.oreilly.com/home/" class="l0 nav-icn"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.738 14H9.254v-3.676a.617.617 0 0 0-.621-.613H7.39a.617.617 0 0 0-.62.613V14H4.284a.617.617 0 0 1-.622-.613V10.22c0-.327.132-.64.367-.87l3.547-3.493a.627.627 0 0 1 .875 0l3.54 3.499c.234.229.366.54.367.864v3.167a.617.617 0 0 1-.62.613zM7.57 2.181a.625.625 0 0 1 .882 0l5.77 5.692-.93.92-5.28-5.209-5.28 5.208-.932-.919 5.77-5.692z" /></svg><span>Home</span></a></li><li class="search"><a href="ch01.html#" class="t-search-nav trigger nav-icn l0" data-dropdown-selector=".searchbox"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>search icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M31.3 0C20.9 0 12.5 8.4 12.5 18.8 12.5 22.5 13.6 25.9 15.4 28.8L1.2 42.9C-0.4 44.5-0.4 47.2 1.2 48.8 2 49.6 3.1 50 4.2 50 5.2 50 6.3 49.6 7.1 48.8L21.2 34.6C24.1 36.5 27.5 37.5 31.3 37.5 41.6 37.5 50 29.1 50 18.8 50 8.4 41.6 0 31.3 0ZM31.3 31.3C24.4 31.3 18.8 25.6 18.8 18.8 18.8 11.9 24.4 6.3 31.3 6.3 38.1 6.3 43.8 11.9 43.8 18.8 43.8 25.6 38.1 31.3 31.3 31.3Z"/></g></svg><span>Search</span></a></li><li class="usermenu dropdown"><a href="ch01.html#" class="trigger l0 nav-icn nav-dropdown"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" version="1.1" fill="#4A3C31"><desc>navigation arrow</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M0.1 12.5L9.7 3.1C9.8 3 9.9 3 10 3 10.1 3 10.2 3 10.3 3.1L19.9 12.5C20 12.5 20 12.6 20 12.8 20 12.9 20 13 19.9 13L17 15.9C16.9 16 16.8 16 16.7 16 16.5 16 16.4 16 16.4 15.9L10 9.7 3.6 15.9C3.6 16 3.5 16 3.3 16 3.2 16 3.1 16 3 15.9L0.1 13C0 12.9 0 12.8 0 12.7 0 12.7 0 12.6 0.1 12.5Z"/></g></svg><span>Expand Nav</span></a><div class="drop-content"><ul><li class="flyout-parent"><a
                href="ch01.html#"
                class="l1 nav-icn "
                
              ><?xml version="1.0" encoding="UTF-8"?><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M8,8 C6.34321755,8 5.00013,6.65691245 5.00013,5.00013 C5.00013,3.34334755 6.34321755,2.00026001 8,2.00026001 C9.65678245,2.00026001 10.99987,3.34334755 10.99987,5.00013 C10.99987,6.65691245 9.65678245,8 8,8 Z M2.33024571,11.3523547 L2.33774538,11.3523547 C3.7622187,9.70968996 5.82947484,8.76608166 8.00374984,8.76608166 C10.1780248,8.76608166 12.245281,9.70968996 13.6697543,11.3523547 C13.8892083,11.6177474 14.0062813,11.9530021 13.99974,12.2973138 L13.99974,13.99974 L2.00026001,13.99974 L2.00026001,12.2973138 C1.99371867,11.9530021 2.11079172,11.6177474 2.33024571,11.3523547 Z" id="path-1"></path></svg><span>Your O&#39;Reilly</span></a><ul class="flyout"><li><a
                    href="https://learning.oreilly.com/profile/"
                    class="l2 nav-icn"
                    
                  ><span>Profile</span></a></li><li><a
                    href="https://learning.oreilly.com/history/"
                    class="l2 nav-icn"
                    
                  ><span>History</span></a></li><li><a
                    href="https://learning.oreilly.com/playlists/"
                    class="l2 nav-icn"
                    
                  ><span>Playlists</span></a></li><li><a
                    href="https://learning.oreilly.com/u/ce47de5b-ce80-49f0-b5cd-c60d3d33b198/"
                    class="l2 nav-icn"
                    
                  ><span>Highlights</span></a></li></ul></li><li ><a
                href="https://learning.oreilly.com/answers/"
                class="l1 nav-icn "
                
              ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M2.31032699,3.75609006 C4.65421571,1.41371359 8.45302454,1.41472092 10.7955702,3.75860838 C13.1381158,6.10249583 13.1369405,9.90130261 10.7930518,12.243847 C8.44916311,14.5863913 4.65018639,14.5852161 2.30780867,12.2413286 C-0.0346204845,9.89749489 -0.0334929936,6.09853298 2.31032699,3.75609006 Z M8.8198605,4.98016308 C7.34193969,3.86924672 5.23410194,3.98609692 3.88914868,5.33104946 C3.12814393,6.09032122 2.72818176,7.13880077 2.79015179,8.21201133 C2.79115912,8.23064692 2.79233434,8.24928252 2.79350956,8.26791811 L2.79350956,8.26791811 C2.83179539,8.8307976 2.9944077,9.37404287 3.26947292,9.86201677 L3.26947292,9.86201677 L2.77621706,11.7027432 C2.7699968,11.7259241 2.77662063,11.7506624 2.79359185,11.7676337 C2.8105631,11.7846049 2.83530144,11.7912287 2.85848233,11.7850085 L2.85848233,11.7850085 L4.69400524,11.2922565 C5.26306363,11.6167344 5.90703177,11.786885 6.56209849,11.7858479 C8.64827865,11.7858479 10.3395879,10.094542 10.3395879,8.00836292 C10.3405204,6.84135608 9.80105674,5.73967784 8.87862141,5.02482134 L8.87862141,5.02482134 L8.82825492,4.98654283 Z M13.7933062,2 C14.7073496,2.00009863 15.4482759,2.74110484 15.4482759,3.65514822 C15.4482759,4.32460943 15.0449926,4.92814782 14.4264842,5.18432286 C13.8079757,5.44049789 13.096053,5.29885769 12.6226979,4.82545158 C12.1493429,4.35204547 12.0077795,3.64010743 12.2640213,3.02162665 C12.5202631,2.40314587 13.123845,1.99992776 13.7933062,2 Z"/></svg><span>Answers</span></a></li><li class="flyout-parent"><a
                href="ch01.html#"
                class="l1 nav-icn "
                
              ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" width="20" height="20" version="1.1" fill="#4A3C31"><desc>queue icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M25 29.2C25.4 29.2 25.8 29.1 26.1 28.9L48.7 16.8C49.5 16.4 50 15.5 50 14.6 50 13.7 49.5 12.8 48.7 12.4L26.1 0.3C25.4-0.1 24.6-0.1 23.9 0.3L1.3 12.4C0.5 12.8 0 13.7 0 14.6 0 15.5 0.5 16.4 1.3 16.8L23.9 28.9C24.2 29.1 24.6 29.2 25 29.2ZM7.3 14.6L25 5.2 42.7 14.6 25 24 7.3 14.6ZM48.7 22.4L47.7 21.9 25 34.2 2.3 21.9 1.3 22.4C0.5 22.9 0 23.7 0 24.7 0 25.6 0.5 26.5 1.3 26.9L23.9 39.3C24.2 39.5 24.6 39.6 25 39.6 25.4 39.6 25.8 39.5 26.1 39.3L48.7 26.9C49.5 26.5 50 25.6 50 24.7 50 23.7 49.5 22.9 48.7 22.4ZM48.7 32.8L47.7 32.3 25 44.6 2.3 32.3 1.3 32.8C0.5 33.3 0 34.1 0 35.1 0 36 0.5 36.9 1.3 37.3L23.9 49.7C24.2 49.9 24.6 50 25 50 25.4 50 25.8 49.9 26.1 49.7L48.7 37.3C49.5 36.9 50 36 50 35.1 50 34.1 49.5 33.3 48.7 32.8Z"/></g></svg><span>Explore</span></a><ul class="flyout"><li><a
                    href="https://learning.oreilly.com/topics/"
                    class="l2 nav-icn"
                    
                  ><span>All Topics</span></a></li><li><a
                    href="https://learning.oreilly.com/search/?query=&amp;extended_publisher_data=true&amp;highlight=true&amp;include_assessments=false&amp;include_case_studies=true&amp;include_courses=true&amp;include_orioles=true&amp;include_playlists=true&amp;include_collections=true&amp;include_notebooks=true&amp;is_academic_institution_account=false&amp;source=user&amp;formats=book&amp;formats=case%20study&amp;formats=learning%20path&amp;formats=live%20online%20training&amp;formats=notebook&amp;formats=oriole&amp;formats=video&amp;sort=popularity&amp;facet_json=true&amp;page=0&amp;collection_type=expert"
                    class="l2 nav-icn"
                    
                  ><span>Most Popular Titles</span></a></li><li><a
                    href="https://learning.oreilly.com/recommendations/"
                    class="l2 nav-icn"
                    
                  ><span>Recommended</span></a></li><li><a
                    href="https://learning.oreilly.com/search/?query=&amp;extended_publisher_data=true&amp;highlight=true&amp;include_assessments=false&amp;include_case_studies=true&amp;include_courses=true&amp;include_orioles=true&amp;include_playlists=true&amp;include_collections=true&amp;include_notebooks=true&amp;is_academic_institution_account=false&amp;source=user&amp;formats=book&amp;sort=publication_date&amp;facet_json=true&amp;page=0"
                    class="l2 nav-icn"
                    
                  ><span>Early Releases</span></a></li><li><a
                    href="https://learning.oreilly.com/playlists/discover/"
                    class="l2 nav-icn"
                    
                  ><span>Shared Playlists</span></a></li><li><a
                    href="https://learning.oreilly.com/resource-centers/"
                    class="l2 nav-icn"
                    
                  ><span>Resource Centers</span></a></li></ul></li><li class="flyout-parent"><a
                href="ch01.html#"
                class="l1 nav-icn "
                
              ><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M12.8 3.2A1.2 1.2 0 0 1 14 4.4v8.4a1.2 1.2 0 0 1-1.2 1.2H3.2A1.2 1.2 0 0 1 2 12.8V4.4a1.2 1.2 0 0 1 1.2-1.2h1.2V2h1.2v1.2h4.8V2h1.2v1.2h1.2zm-9.6 9.6h9.6V6.2H3.2v6.6zM8 9.5a1.35 1.35 0 1 1 0-2.7 1.35 1.35 0 0 1 0 2.7zm2.7 2.148v.552H5.3v-.552c0-.321.124-.634.355-.858a3.358 3.358 0 0 1 4.69 0c.23.224.355.537.355.858z" /></svg><span>Live Events</span></a><ul class="flyout"><li><a
                    href="https://learning.oreilly.com/attend/"
                    class="l2 nav-icn"
                    
                  ><span>All Events</span></a></li><li><a
                    href="https://learning.oreilly.com/featured/architectural-katas/"
                    class="l2 nav-icn"
                    
                  ><span>Architectural Katas</span></a></li><li><a
                    href="https://learning.oreilly.com/featured/ai/"
                    class="l2 nav-icn"
                    
                  ><span>AI &amp; ML</span></a></li><li><a
                    href="https://learning.oreilly.com/featured/strata/"
                    class="l2 nav-icn"
                    
                  ><span>Data Sci &amp; Eng</span></a></li><li><a
                    href="https://learning.oreilly.com/featured/oscon/"
                    class="l2 nav-icn"
                    
                  ><span>Programming</span></a></li><li><a
                    href="https://learning.oreilly.com/featured/infrastructure-ops/"
                    class="l2 nav-icn"
                    
                  ><span>Infra &amp; Ops</span></a></li><li><a
                    href="https://learning.oreilly.com/featured/software-architecture/"
                    class="l2 nav-icn"
                    
                  ><span>Software Arch</span></a></li></ul></li><li class="flyout-parent"><a
                href="ch01.html#"
                class="l1 nav-icn "
                
              ><svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.6467109,4.35328907 L14.7964612,7.51003884 C15.0678463,7.78304342 15.0678463,8.22395603 14.7964612,8.49696061 L11.6467109,11.6467109 L10.6597892,10.6597892 L13.3055794,8 L10.6597892,5.34021084 L11.6467109,4.35328907 Z M4.35328907,11.6467109 L1.20353875,8.48996116 C0.932153749,8.21695658 0.932153749,7.77604397 1.20353875,7.50303939 L4.35328907,4.35328907 L5.34021084,5.34021084 L2.69442057,8 L5.34021084,10.6597892 L4.35328907,11.6467109 Z M5.84417089,11.4997226 L8.67194674,4.50027742 L10.1838269,4.50027742 L7.35605105,11.4997226 L5.84417089,11.4997226 Z" id="Mask"></path></svg><span>Interactive</span></a><ul class="flyout"><li><a
                    href="https://learning.oreilly.com/scenarios/?classification=content-scenario"
                    class="l2 nav-icn"
                    
                  ><span>Scenarios</span></a></li><li><a
                    href="https://learning.oreilly.com/scenarios/?classification=sandbox-scenario"
                    class="l2 nav-icn"
                    
                  ><span>Sandboxes</span></a></li><li><a
                    href="https://learning.oreilly.com/interactive/?classification=jupyter-notebook"
                    class="l2 nav-icn"
                    
                  ><span>Jupyter Notebooks</span></a></li></ul></li><li ><a
                href="https://learning.oreilly.com/certifications/"
                class="l1 nav-icn "
                
              ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M12.912 9.18L14 8.014l-1.088-1.18a.304.304 0 01-.075-.268L13.195 5l-1.535-.463a.313.313 0 01-.194-.194l-.462-1.537-1.565.358c-.09.03-.194 0-.269-.074L8.007 2 6.845 3.09a.303.303 0 01-.269.074l-1.565-.358-.462 1.537a.313.313 0 01-.194.194L2.82 5l.358 1.567a.26.26 0 01-.075.269L2 8.015l1.088 1.164c.075.075.09.18.075.269l-.358 1.567 1.535.463c.09.03.164.104.194.194l.462 1.537 1.565-.358c.015 0 .045-.015.075-.015.075 0 .15.03.209.074L8.007 14l1.163-1.09a.303.303 0 01.269-.074l1.565.358.462-1.537a.313.313 0 01.194-.194L13.195 11l-.358-1.567a.338.338 0 01.075-.254zm-6.046 1.37L4.41 8.26l1.16-1.244 1.767 1.649L10.4 5.6l1.202 1.202-4.242 4.243-.495-.495z"/></svg><span>Certifications</span></a></li><li ><a
                href="https://learning.oreilly.com/preferences/"
                class="l1 nav-icn "
                
              ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 53" width="20" height="20" version="1.1" fill="#4A3C31"><desc>settings icon</desc><g stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M44.6 29.6C44.7 28.6 44.8 27.5 44.8 26.5 44.8 25.5 44.7 24.4 44.6 23.4L49.6 19C50 18.8 50.1 18.3 49.9 17.9 48.9 14.7 47.1 11.7 44.9 9.1 44.6 8.8 44.2 8.7 43.8 8.8L37.4 11.1C35.8 9.8 34 8.7 32.1 8L30.9 1.4C30.8 0.9 30.4 0.6 30 0.5 26.7-0.2 23.3-0.2 20 0.5 19.6 0.6 19.2 0.9 19.1 1.4L17.9 8C16 8.7 14.1 9.8 12.6 11.1L6.2 8.8C5.8 8.7 5.4 8.8 5.1 9.1 2.9 11.7 1.1 14.7 0.1 17.9 -0.1 18.3 0 18.8 0.4 19L5.4 23.4C5.3 24.4 5.2 25.5 5.2 26.5 5.2 27.5 5.3 28.6 5.4 29.6L0.4 34C0 34.2-0.1 34.7 0.1 35.1 1.1 38.3 2.9 41.4 5.1 43.9 5.4 44.2 5.8 44.4 6.2 44.2L12.6 42C14.1 43.2 16 44.3 17.9 45L19.1 51.7C19.2 52.1 19.6 52.5 20 52.5 21.6 52.8 23.3 53 25 53 26.7 53 28.4 52.8 30 52.5 30.4 52.5 30.8 52.1 30.9 51.7L32.1 45C34 44.3 35.8 43.2 37.4 42L43.8 44.2C44.2 44.4 44.6 44.2 44.9 43.9 47.1 41.4 48.9 38.3 49.9 35.1 50.1 34.7 50 34.2 49.6 34L44.6 29.6ZM25 36.4C19.6 36.4 15.2 32 15.2 26.5 15.2 21 19.6 16.6 25 16.6 30.4 16.6 34.8 21 34.8 26.5 34.8 32 30.4 36.4 25 36.4Z"/></g></svg><span>Settings</span></a></li><li ><a
                href="https://learning.oreilly.com/public/support/"
                class="l1 nav-icn "
                
              ><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M7.363 6.656a2.692 2.692 0 0 1-2.681-2.703c0-1.493 1.2-2.703 2.681-2.703a2.692 2.692 0 0 1 2.682 2.703c0 1.493-1.2 2.703-2.682 2.703zm4.023 2.027c-1.852 0-3.352 1.513-3.352 3.379H2v-1.534c-.006-.31.099-.612.295-.852a6.666 6.666 0 0 1 9.09-.993zm-.543.676h1.12v.304c.003.284.16.543.408.676a.766.766 0 0 0 .77 0l.303-.176.556.966-.302.176a.772.772 0 0 0-.362.676v.08a.772.772 0 0 0 .362.677l.302.21-.556.965-.302-.175a.766.766 0 0 0-.771 0 .778.778 0 0 0-.409.675v.352h-1.106v-.372a.778.778 0 0 0-.409-.676.766.766 0 0 0-.77 0l-.303.176-.556-.912.302-.176a.772.772 0 0 0 .362-.676v-.04-.04a.772.772 0 0 0-.362-.676l-.302-.176.556-.966.289.155a.766.766 0 0 0 .77 0 .778.778 0 0 0 .41-.676V9.36zm1.562 2.703c0-.271-.108-.531-.3-.722a1.001 1.001 0 0 0-.72-.292 1.01 1.01 0 0 0-.992 1.023 1.01 1.01 0 0 0 1.01 1.004 1.01 1.01 0 0 0 1.002-1.013z" /></svg><span>Support</span></a></li><li ><a
                href="https://get.oreilly.com/email-signup.html"
                class="l1 nav-icn "
                target=&quot;_blank&quot;
              ><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M11.564 2.263l2.172 2.174c.17.168.264.397.264.636V11a.6.6 0 0 1-.6.6h-.6V6.2h-6V2.6a.6.6 0 0 1 .6-.6h3.527c.239 0 .468.095.637.263zM2.6 14a.6.6 0 0 1-.6-.6V6.8a.6.6 0 0 1 .6-.6h1.903a1.2 1.2 0 0 1 .849.352L6.2 7.4H11a.6.6 0 0 1 .6.6v5.4a.6.6 0 0 1-.6.6H2.6zM11 5h1.8L11 3.2V5z" /></svg><span>Newsletters</span></a></li><li ><a
                href="https://learning.oreilly.com/accounts/logout/"
                class="l1 nav-icn "
                
              ><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M2.613 12.63A.607.607 0 0 1 2 12.03V3.602C2 3.269 2.274 3 2.613 3h5.515v1.204H3.226v7.223h4.902v1.203H2.613zM5.677 9.02V6.611h4.903V4.926a.301.301 0 0 1 .19-.274.31.31 0 0 1 .33.063l2.722 2.673a.594.594 0 0 1 0 .849L11.1 10.909a.31.31 0 0 1-.331.063.301.301 0 0 1-.19-.274V9.02H5.677z" /></svg><span>Sign Out</span></a></li></ul></div></li></ul></nav></header>



      </div>
      <div id="container" class="application">
        
          <div class="nav-container clearfix">
            


            
            
          </div>

          

  <div class="js-toc">
    
      <div class="sbo-reading-menu sbo-menu-top"><section class="sbo-toc-container toc-menu"><a href="ch01.html#" class="sbo-toc-thumb"><span class="sbo-title ss-list"><h1><div class="visuallyhidden">Table of Contents for </div>
      
      Beginning Lua Programming
      
    </h1></span></a><div class="toc-contents"></div></section></div>

    

    <div class="interface-controls interface-controls-top">
      <ul class="interface-control-btns js-bitlist js-reader">
        <li class="js-search-in-archive search-in-archive t-search-in-archive"><a href="ch01.html#" title="Search in archive" class="js-search-controls search-controls" onclick="window.Appcues.track('SearchBook_HeronBook')"><span class="icon">Search in book...</span></a><form class="search-archive-bar js-search-form"><input type="search" name="query" placeholder="Search inside this book..." autocomplete="off"></form><div class="search-archive-results"><div class="js-sitb-results-region"></div></div></li><li class="queue-control"><div class="js-content-uri" data-content-uri="/api/v1/book/9780470069172/chapter/ch01.html"><div class="js-collections-dropdown collections-dropdown menu-bit-cards" onclick="window.Appcues.track('AddPlaylist_HeronBook')"></div></div></li><li class="js-font-control-panel font-control-activator"><a href="ch01.html#" data-push-state="false" id="font-controls" title="Change font size" aria-label="Change font size" onclick="window.Appcues.track('ChangeFont_HeronBook')"><span class="icon">Toggle Font Controls</span></a></li><li class="dropdown sharing-controls"><a href="ch01.html#" class="trigger" data-push-state="false" title="Share" aria-label="Share" onclick="window.Appcues.track('Share_HeronBook')"><i class="fa fa-share"></i></a><ul class="social-sharing dropdown-menu"><li><a
        class="twitter share-button t-twitter"
        target="_blank"
        aria-label="Share this section on Twitter"
        title="Share this section on Twitter"
      
        href="https://twitter.com/share?url=https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/ch01.html&text=Beginning%20Lua%20Programming&via=OReillyMedia"
      ><span>Twitter</span></a></li><li><a
        class="facebook share-button t-facebook"
        target="_blank"
        aria-label="Share this section on Facebook"
        title="Share this section on Facebook"
        href="https://www.facebook.com/sharer/sharer.php?u=https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/ch01.html"
      ><span>Facebook</span></a></li><li><a
        class="googleplus share-button t-googleplus"
        target="_blank"
        aria-label="Share this secton on Google Plus"
        title="Share this secton on Google Plus"
        href="https://plus.google.com/share?url=https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/ch01.html"
      ><span>Google Plus</span></a></li><li><a
        class="email share-button t-email"
        aria-label="Share this section via email"
        title="Share this section via email"
      
        href="mailto:?subject=Safari: 1.%20Getting%20Situated&body=https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/ch01.html%0D%0Afrom Beginning%20Lua%20Programming%0D%0A"
      ><span>Email</span></a></li></ul></li><!-- endif request.user.is_authenticated -->
      </ul>
    </div>

      
          
      

    <section role="document">
        
        




  <script defer src="https://learning.oreilly.com/static/js/build/djangoMessagesPage.bfaca9fd8619.js"></script>


        <script src="https://fast.appcues.com/48743.js"></script>
<script>
  var userId = "ce47de5b-ce80-49f0-b5cd-c60d3d33b198";

  var userObject = {
    firstName: "Michael",
    segment: "Trial",
    admin: "False",
    profileCreatedOn: "2021-05-13",
    academic: ""
  };
  window.Appcues.identify(userId, userObject);
  window.Appcues.page();

  setTimeout(function () {
    window.Appcues.track('ViewingBook_HeronBook')
  }, 20000);
</script>


	  <div class="t-sbo-prev sbo-prev sbo-nav-top">
  
    
      
        <a href="pr05.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">Introduction</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-top">
  
    
      
        <a href="ch02.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">2. First Steps</div>
        </a>
    
  
  </div>



<div id="sbo-rt-content"><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="getting_situated"></a>Chapter 1. Getting Situated</h1></div></div></div><p>The first order of business in learning to program in Lua is to acquire and install the necessary tools. For your initial steps, all you need is the Lua <span class="emphasis"><em>interpreter</em></span>, a small program that enables you to type Lua commands and have them executed immediately. As you advance through this book, you will need additional tools such as a text editor and the Lua compiler.<a id="IDX-CHP-1-0001" class="indexterm"></a><a id="IDX-CHP-1-0002" class="indexterm"></a><a id="IDX-CHP-1-0003" class="indexterm"></a><a id="IDX-CHP-1-0004" class="indexterm"></a><a id="IDX-CHP-1-0005" class="indexterm"></a><a id="IDX-CHP-1-0006" class="indexterm"></a><a id="IDX-CHP-1-0007" class="indexterm"></a><a id="IDX-CHP-1-0008" class="indexterm"></a><a id="IDX-CHP-1-0009" class="indexterm"></a><a id="IDX-CHP-1-0010" class="indexterm"></a><a id="IDX-CHP-1-0011" class="indexterm"></a><a id="IDX-CHP-1-0012" class="indexterm"></a></p><p>If you want to write web applications, you'll need access to a web server such as Kepler (a versatile Lua-based web server) or Apache (an industry-wide standard). These and other web servers are freely available on the Internet.</p><p>If you want to extend Lua with low-level libraries or to embed Lua into your application, you'll need a <span class="emphasis"><em>software development kit</em></span> (often referred to as SDK) with a compiler that is compatible with Lua's <span class="emphasis"><em>application program interface</em></span> (referred to as API).</p><p>Lua is written in the C programming language, and a C compiler turns a program written in this language into something that can run on your computer. Most C compilers work fine, as do Delphi and the cross-platform Free Pascal Compiler.<a id="IDX-CHP-1-0013" class="indexterm"></a></p><p>This chapter is unlike the others in this book, because it has little to do with Lua and much to do with setting up programs on your system. Although Lua doesn't have a setup program that handles installation details, you'll find the steps are straightforward. In addition to guiding you through the process, this chapter briefly explores programming editors and revision control systems—tools that can enhance your productivity as you become proficient in Lua.</p><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="choosing_how_to_install_lua"></a>Choosing How to Install Lua</h1></div></div></div><p>Lua can be installed on a wide variety of platforms and, after it is installed, it will function similarly on all of them. Unlike most of the material that follows in this book, this chapter necessarily delves into some platform-specific details. Basically, there are two categories that are covered here: Windows desktop systems (including Windows 95 and up) and Unix-type systems, including GNU/Linux, Mac OS X, AIX, BSD, and Solaris. (The many other operating systems and hardware platforms capable of running Lua are outside the scope of this book.)</p><div class="sidebar"><a id="lua_versions"></a><div class="titlepage"><div><div><p class="title"><strong>Lua Versions</strong></p></div></div></div><p>In the instructions that follow, you'll see references to version 5.1.1. A later version of Lua may be available as you read this. As Lua evolves, some improvements are made that require changes to existing scripts. Your decision is either to install a version of Lua later than 5.1.1 and encounter possible instances where you have to modify the scripts and libraries in this book, or to install version 5.1.1 and forgo any improvements that may have been made to Lua. The Lua manual includes a section at the end named "Incompatibilities with Previous Versions" that can help you decide. If you install a later version, you'll need to make corresponding changes to the commands and directory names used in this chapter.<a id="IDX-CHP-1-0014" class="indexterm"></a><a id="IDX-CHP-1-0015" class="indexterm"></a><a id="IDX-CHP-1-0016" class="indexterm"></a><a id="IDX-CHP-1-0017" class="indexterm"></a><a id="IDX-CHP-1-0018" class="indexterm"></a><a id="IDX-CHP-1-0019" class="indexterm"></a></p></div><p>There are two excellent open-source packages for Windows that blur the Windows-Unix distinction somewhat. One of them, the Cygwin system, provides many GNU and Linux tools (including various shells and development tools) for Windows platforms. It is available at <code class="systemitem">www.cygwin.com</code>. Applications that you build with this environment will run only on systems that have Cygwin installed. If you want to install Lua in this environment, follow the directions for building Lua on Unix-type systems.<a id="IDX-CHP-1-0020" class="indexterm"></a><a id="IDX-CHP-1-0021" class="indexterm"></a><a id="IDX-CHP-1-0022" class="indexterm"></a></p><p>The other package is the MinGW system, which enables you to use standard Unix-like tools to build applications that run on all 32-bit desktop versions of Windows without any extra support libraries. This first-rate system is available at <code class="systemitem">www.mingw.org</code>.<a id="IDX-CHP-1-0023" class="indexterm"></a></p><p>As you read this chapter, section headers will indicate whether a Unix-like system or Windows is being discussed. You can skip the sections that don't apply to your platform.<a id="IDX-CHP-1-0024" class="indexterm"></a><a id="IDX-CHP-1-0025" class="indexterm"></a><a id="IDX-CHP-1-0026" class="indexterm"></a></p><p>The Lua interpreter, typically named <code class="literal">lua.exe</code> in Windows and <code class="literal">lua</code> in Unix and friends, is a small command-line program that executes your scripts either interactively or noninteractively. You'll become familiar with the Lua interpreter and both of these modes in the first chapters of this book.</p><p>A note about these names: In this book, Lua refers to the Lua programming language or implementation, and lua refers to the Lua interpreter.</p><p>To install Lua, you can download a package that has been compiled for your particular operating system platform, or download the source code and compile it yourself. There are the advantages and disadvantages to each approach, as the following sections discuss.</p><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="building_lua_yourself"></a>Building Lua Yourself</h2></div></div></div><p>Compiling Lua is straightforward. Lua, including the language processor and its core libraries, is written in plain vanilla C so that it can be built on a wide variety of platforms with any ANSI-compliant C compiler. The advantage is that the resulting libraries and interpreter program are compatible with the system on which it's built. This is one of the principal advantages of open-source software in general. As long as the target platform supports the tools and libraries needed to compile the source code—in Lua's case, this is a standard C compiler—the resulting binary program is compatible with the platform.<a id="IDX-CHP-1-0027" class="indexterm"></a></p><p>The disadvantage of compiling Lua is that the system you intend to build it on must have a complete C development environment. That is generally not a problem on Unix and Unix-like operating systems where such development tools are part of a long-standing tradition. However, on platforms such as Windows, a C compiler and its related tools and files are not installed by default. Such a development package can require a surprisingly large amount of disk space and present a bewildering number of options. One refreshingly small exception to this rule is the Tiny C Compiler (TCC), which runs on Linux and Windows on the 80 × 86 platform. Building Lua with TCC is described later in this chapter.<a id="IDX-CHP-1-0028" class="indexterm"></a><a id="IDX-CHP-1-0029" class="indexterm"></a><a id="IDX-CHP-1-0030" class="indexterm"></a><a id="IDX-CHP-1-0031" class="indexterm"></a><a id="IDX-CHP-1-0032" class="indexterm"></a><a id="IDX-CHP-1-0033" class="indexterm"></a><a id="IDX-CHP-1-0034" class="indexterm"></a><a id="IDX-CHP-1-0035" class="indexterm"></a><a id="IDX-CHP-1-0036" class="indexterm"></a><a id="IDX-CHP-1-0037" class="indexterm"></a><a id="IDX-CHP-1-0038" class="indexterm"></a><a id="IDX-CHP-1-0039" class="indexterm"></a></p></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="selecting_prebuilt_lua"></a>Selecting Prebuilt Lua</h2></div></div></div><p>Besides being able to skip the compilation step, an advantage of selecting a prebuilt version of Lua is that it will be compatible with a number of libraries that conform to its dependency conventions. These conventions involve issues such as which runtime libraries are used and whether those libraries are safe to use with multiple threads of execution.<a id="IDX-CHP-1-0040" class="indexterm"></a></p><p>If you are a Windows user and don't have a C development environment set up on your system, installing the appropriate binary Lua package may be your best option. You'll see how to do that in the section on installing binary packages later in this chapter.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="finding_your_system_apostrophy_s_shell"></a>Finding Your System's Shell</h1></div></div></div><p>Most computer systems have a <span class="emphasis"><em>shell</em></span>, also known as a <span class="emphasis"><em>command-line interface</em></span>. This is a program you can use to type commands to the computer. These commands can tell the computer to copy, move, delete, and otherwise manipulate files, and to start programs, including (of course) Lua programs and Lua itself. In several places in this book, you'll need to access your system's shell; in particular, everything in this chapter that you need to type, you need to type into the shell. You can perform some of the operations, such as creating directories and moving files, using visual tools (such as Explorer on the Windows platform). Only the shell commands are presented here, but feel free to use whatever tools you are most comfortable with to accomplish the task at hand.</p><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="windows_shells"></a>Windows Shells</h2></div></div></div><p>To access your shell on Windows XP or Windows 2000, select Start</p><div><img src="https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/figs/U001.png" alt="Windows Shells" width="12" height="11"></div></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="shells_on_unix_and_unix-like_systems"></a>Shells on Unix and Unix-Like systems</h2></div></div></div><p>On Mac OS X, open your Applications folder (on your startup disk). Inside it, open the Utilities folder; inside that, open Terminal. On other systems with a graphical user interface (GUI), look in the menu that you start programs from for a program with a name like <code class="literal">xterm, Konsole</code>, or <code class="literal">Terminal</code>. On systems without a graphical user interface, you are already at the shell, as you are if you use a program such as <code class="literal">ssh, telnet</code>, or <code class="literal">PuTTY</code> to connect to a remote Unix(-like) server.</p></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="shell_features"></a>Shell Features</h2></div></div></div><p>Shells vary greatly in appearance and functionality, but each of them presents some form of a prompt to let you know that it's waiting for you to issue a command. In general, you type a command following the prompt and press the Enter key to submit the command to the shell. When you are working in a shell, there is always one directory that is considered your current working directory. Most shell prompts contain that directory to make it easier for you to keep your bearings as you move from directory to directory. For example, a typical prompt in Windows shells may look something like the following:<a id="IDX-CHP-1-0041" class="indexterm"></a><a id="IDX-CHP-1-0042" class="indexterm"></a><a id="IDX-CHP-1-0043" class="indexterm"></a><a id="IDX-CHP-1-0044" class="indexterm"></a><a id="IDX-CHP-1-0045" class="indexterm"></a><a id="IDX-CHP-1-0046" class="indexterm"></a><a id="IDX-CHP-1-0047" class="indexterm"></a><a id="IDX-CHP-1-0048" class="indexterm"></a></p><pre class="programlisting">C:\Program Files&gt;</pre><p>and in Unix-type shells, something like the following:</p><pre class="programlisting">mozart maryann /usr/local/bin&gt;</pre><p>To exit the shell, type <code class="literal">exit</code> and press Enter.</p></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="the_environment"></a>The Environment</h2></div></div></div><p>Each shell also has a pool of variables, known as the <span class="emphasis"><em>environment</em></span>, available to programs. The environment typically holds information about where the system should look for programs and libraries, what the shell prompt should look like, and so forth. You can view this information by issuing the following command at the shell prompt:</p><pre class="programlisting">set</pre><p>Regardless of the platform you use, you will want to modify the shell environment to let Lua know where to find extension modules. Additionally, if you intend to compile Lua or libraries, you'll need to set up environment variables that your SDK will look for.</p><div class="sect3"><div class="titlepage"><div><div><h3 class="title"><a id="environment_variables_on_unix-like_syste"></a>Environment Variables on Unix-Like Systems</h3></div></div></div><p>On Unix-like systems, you generally modify the shell environment in one of the shell startup scripts. For example, if you use the <code class="literal">bash</code> shell, it will process <code class="literal">/etc/bashrc</code> and, in your home directory, <code class="literal">.bashrc</code> when it starts. The first file is used for system-wide settings, and the second is used for your own private settings. You'll need root privileges to modify the first. Within these files, you set an environment variable by including a line that looks like the following:<a id="IDX-CHP-1-0049" class="indexterm"></a></p><pre class="programlisting">export LUA_DIR=/usr/local/lib/lua/5.1</pre><p>When you reference environment variables in shell scripts, you precede the name with <code class="literal">$</code>, as in <code class="literal">echo $LUA_DIR</code>.</p><p>In this book, the following environment variables are recommended for Unix-like systems:</p><pre class="programlisting">LUA_DIR=/usr/local/lib/lua/5.1
    LUA_CPATH=?.so;$LUA_DIR/?.so
    LUA_PATH=?.lua;$LUA_DIR/?.lua</pre><p>Restart the shell for changes to take effect.</p><p>Now create the actual directory that <code class="literal">LUA_DIR</code> identifies. Do this, as root, with the following command:<a id="IDX-CHP-1-0050" class="indexterm"></a><a id="IDX-CHP-1-0051" class="indexterm"></a><a id="IDX-CHP-1-0052" class="indexterm"></a><a id="IDX-CHP-1-0053" class="indexterm"></a><a id="IDX-CHP-1-0054" class="indexterm"></a><a id="IDX-CHP-1-0055" class="indexterm"></a></p><pre class="programlisting">mkdir -p /usr/local/lib/lua/5.1</pre></div><div class="sect3"><div class="titlepage"><div><div><h3 class="title"><a id="environment_variables_on_windows"></a>Environment Variables on Windows</h3></div></div></div><p>Depending on which version of Windows you use, you modify the shell environment either through the <code class="literal">autoexec.bat</code> file (Window 95, 98 and ME) or, for later versions, through a dedicated dialog box that you get to through the System Properties dialog box. If you use <code class="literal">autoexec.bat</code>, you set environment variables with lines that look like the following:<a id="IDX-CHP-1-0056" class="indexterm"></a></p><pre class="programlisting">SET LUA_DIR="c:\program files\lua\5.1"</pre><p>If you use the dedicated dialog box, you'll need to choose between system variables and user variables. In this window, you can add a new variable, edit an existing variable, or delete an existing variable. When you add or edit a variable, there are separate input fields for the variable name and its value.</p><p>Within a shell script, surround an environment variable name with the % character, as in —<code class="literal">echo %LUA_DIR%</code>.</p><div class="sect4"><div class="titlepage"><div><div><h4 class="title"><a id="the_windows_search_path"></a>The Windows Search Path</h4></div></div></div><p>On a Windows system, whether you compile Lua or acquire a precompiled package, you'll want to put the Lua interpreter, compiler, and dynamic link library in a location that makes them easy to use. From a shell prompt, the system should launch the interpreter when you execute the <code class="literal">lua</code> command. There are two practical approaches you can take: using aliases or using the search path.</p><p>When you're at the shell prompt, Windows enables you to use a simple alias—<code class="literal">mdlua</code>, for example—as a replacement for a more complicated command, such as <code class="literal">c:\program files\utility\lua.exe</code>. It implements aliases like these, in addition to command-line editing and history, using <code class="literal">doskey</code>. This method may locate the aliased program slightly faster, but you cannot use the alias in a batch script. Consult the output of the following to read more about this utility:</p><pre class="programlisting">doskey /?</pre><p>You can also use the Windows search path mechanism. When a command is invoked that is not internal (such as <code class="literal">dir</code> or <code class="literal">del</code>) and is not qualified with path information, Windows examines the search path, looking for a matching executable. To see the current search path from the shell, execute this command:</p><pre class="programlisting">path</pre><p>In the following steps, you work with files and directories so you can use Windows Explorer if you like. Complete these steps to move the Lua executables to a directory that is included in the Windows search path:</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p>If your current search path does not include a directory where you store utilities, create one now (the directory <code class="literal">c:\program files\utility</code> is assumed for this example, but the choice is yours). Note that quotes are necessary when specifying names with spaces:</p><pre class="programlisting">mkdir "c:\program files\utility"</pre></li><li class="listitem"><p>Add this directory to the Windows search path. On older versions of Windows, use the <code class="literal">autoexec.bat</code> file in the root directory of the boot drive. (More recent versions of Windows still support this, but they also provide a graphical environment editor that you by opening the System applet from the Control Panel.)<a id="IDX-CHP-1-0057" class="indexterm"></a><a id="IDX-CHP-1-0058" class="indexterm"></a><a id="IDX-CHP-1-0059" class="indexterm"></a><a id="IDX-CHP-1-0060" class="indexterm"></a><a id="IDX-CHP-1-0061" class="indexterm"></a><a id="IDX-CHP-1-0062" class="indexterm"></a><a id="IDX-CHP-1-0063" class="indexterm"></a><a id="IDX-CHP-1-0064" class="indexterm"></a><a id="IDX-CHP-1-0065" class="indexterm"></a></p><p>If the text field containing the path variable is too small to see the entire value, cut and paste the value to your text editor, make the appropriate change, and then cut and paste the modified value back to the path edit field.</p></li><li class="listitem"><p>The new search path applies only to shells that are opened after the change, so exit and restart your shell.</p></li></ol></div></div><div class="sect4"><div class="titlepage"><div><div><h4 class="title"><a id="recommended_settings_for_windows"></a>Recommended Settings for Windows</h4></div></div></div><p>For this book, the following environment variables are recommended on Windows systems:</p><pre class="programlisting">UTIL_DIR=c:\program files\utility
    LUA_DIR=c:\program files\lua\5.1
    LUA_CPATH=?.dll;%LUA_DIR%\?.dll
    LUA_PATH=?.lua;%LUA_DIR%\?.lua</pre><p>The <code class="literal">UTIL_DIR</code> variable identifies the utility directory you created in the preceding section. Additionally, if you have a software development kit and intend to compile Lua and possibly libraries for Lua, set the following environment variables:</p><pre class="programlisting">SDK_DIR=c:\program files\msc
    INCLUDE=%SDK_DIR%\include;%SDK_DIR%\include\usr
    LIB=%SDK_DIR%\lib;%SDK_DIR%\lib\usr</pre><p>The <code class="literal">SDK_DIR</code> depends on where you installed your SDK.</p><p>Restart your shell for environment changes to take effect. Then use Windows Explorer or the command shell to create the various directories that these environment variables identify.</p></div></div></div></div><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="dealing_with_tarballs_and_zip_files"></a>Dealing with Tarballs and Zip Files</h1></div></div></div><p>Whether you install Lua using precompiled packages or compile it from a source code package, you will be dealing with a packaging form colloquially known as a <span class="emphasis"><em>tarball</em></span>. Files of this type have the extension <code class="literal">.tar.gz</code> or <code class="literal">.tgz</code>. A tarball bundles a group of files that can be distributed over one or more directories. The contents, owners, permissions, and timestamps of the bundled files are preserved using the <code class="literal">tar</code> utility, whose name derives from its original purpose of transferring files to and from a tape archive. The amalgamated file is then compressed using the <code class="literal">gzip</code> utility or, for tarballs with the <code class="literal">.tar.bz2</code> extension, using the slower and more aggressive <code class="literal">bzip2</code> compression utility. Although tarballs are part of the Unix tradition, tools for managing them on Windows are freely available. In particular, one versatile open-source utility for Windows that handles any type of package you are likely to encounter is <code class="literal">7z</code>. Both graphical and shell-oriented versions are available from <code class="systemitem">www.7-zip.org</code>. Whichever version you use, make sure the directory in which you install 7-zip is included in your system search path. Extracting the contents of a tarball in Windows is a two-step process. Here's how to do it from the shell. First, unzip the embedded tarball using a command like the following:<a id="IDX-CHP-1-0066" class="indexterm"></a><a id="IDX-CHP-1-0067" class="indexterm"></a><a id="IDX-CHP-1-0068" class="indexterm"></a><a id="IDX-CHP-1-0069" class="indexterm"></a><a id="IDX-CHP-1-0070" class="indexterm"></a><a id="IDX-CHP-1-0071" class="indexterm"></a><a id="IDX-CHP-1-0072" class="indexterm"></a><a id="IDX-CHP-1-0073" class="indexterm"></a><a id="IDX-CHP-1-0074" class="indexterm"></a><a id="IDX-CHP-1-0075" class="indexterm"></a><a id="IDX-CHP-1-0076" class="indexterm"></a><a id="IDX-CHP-1-0077" class="indexterm"></a></p><pre class="programlisting">7z x <em class="replaceable"><code>somefile</code></em>.tar.gz</pre><p>In a standard package, this creates the file <code class="literal">somefile.tar</code>. Extract the contents of this tarball with a command like the following:<a id="IDX-CHP-1-0078" class="indexterm"></a></p><pre class="programlisting">7z x <em class="replaceable"><code>somefile</code></em>.tar</pre><p>Another packaging format, more common for Windows-based projects, is the zip file, which has a <code class="literal">.zip</code> extension. The <code class="literal">zip</code> and <code class="literal">unzip</code> utilities on Unix-style systems manage files of this type. On Windows, you can extract the contents of a zip file using <code class="literal">7z</code> with a command like the following:</p><pre class="programlisting">7z x <em class="replaceable"><code>somefile</code></em>.zip</pre></div><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="compiling_lua"></a>Compiling Lua</h1></div></div></div><p>In the general sense, compiling an application refers to the process of building an executable program from source components. The executable program comprises processor instructions that a computer can follow. It may also contain certain resources such as embedded icons and copyright notices. Source code is the text that is created in a programming language by a programmer. Strictly speaking, compilation is the intricate step that translates a source-code text file to a machine-code object file. Object files usually contain references to other object files that may or may not be part of the same package. A <span class="emphasis"><em>linker</em></span> generates an executable program by combining all required object files and resolving their references to one another. Sometimes the compilation and linking steps are combined by a wrapper program.<a id="IDX-CHP-1-0079" class="indexterm"></a></p><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="the_lua_source_tarball"></a>The Lua Source Tarball</h2></div></div></div><p>The contents of the Lua tarball are organized as follows:</p><pre class="programlisting">lua-5.1.1
    doc
    etc
    src
    test</pre><p>In the first level of this directory, you can read various text documents prepared by the Lua authors. The <code class="literal">README</code> file explains what Lua is, the terms by which it is available, how to install it, and its origin. The <code class="literal">HISTORY</code> file tracks the changes to the Lua language, its application programming interface (API), and its implementation. Read the relevant portion of that file when upgrading to a new version of Lua to understand the changes that have been made. The <code class="literal">INSTALL</code> file has information about building Lua.</p><p>You can read these files using a text viewer or editor. If you are using a Unix-type system, the less command is convenient for scanning text files. The <code class="literal">lynx</code> character-mode web browser is great for exploring the distribution: use the arrow keys to drill into and out of directories and the contents of text and HTML files. Press <span class="strong"><strong>Q</strong></span> to exit <code class="literal">less</code> or <code class="literal">lynx</code> when you are ready to return to the shell itself. If you are a Windows user, note that the files have Unix-style line endings that will not be properly handled by Windows Notepad, so you should use a programmer's editor or a web browser to read them.<a id="IDX-CHP-1-0080" class="indexterm"></a><a id="IDX-CHP-1-0081" class="indexterm"></a><a id="IDX-CHP-1-0082" class="indexterm"></a><a id="IDX-CHP-1-0083" class="indexterm"></a><a id="IDX-CHP-1-0084" class="indexterm"></a><a id="IDX-CHP-1-0085" class="indexterm"></a><a id="IDX-CHP-1-0086" class="indexterm"></a><a id="IDX-CHP-1-0087" class="indexterm"></a><a id="IDX-CHP-1-0088" class="indexterm"></a><a id="IDX-CHP-1-0089" class="indexterm"></a></p><p>With your web browser, you can explore the hyperlinked Lua manual in the <code class="literal">doc</code> subdirectory. The <code class="literal">src</code> subdirectory contains all of the source code for the Lua interpreter, compiler, and core libraries. The <code class="literal">etc</code> subdirectory contains miscellaneous files such as the Lua icon and the source code for an especially small interpreter with reduced functionality. The <code class="literal">test</code> subdirectory contains a number of Lua scripts that provide an excellent survey of Lua's capabilities. Some of these scripts push at the far reaches of Lua's domain, so don't be dismayed if some appear rather dense at first.</p></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="compiling_lua_on_linux_and_other_unix-li"></a>Compiling Lua on Linux and Other Unix-Like Systems</h2></div></div></div><p>One of the first things you should do at your shell is to check whether you have a functioning C compiler. To do so, execute the following command:</p><pre class="programlisting">cc -v</pre><p>If version and configuration information is displayed, then it's likely that you've got everything you need to successfully build Lua. If you receive a message indicating that the command <code class="literal">cc</code> could not be found, try executing <code class="literal">gcc -v</code> instead. If neither of these commands work, you need to find out if either the C development tools have not been installed or some configuration setting is simply keeping them from being available to you.</p><p>Where you build Lua depends on your purposes. If you intend for Lua to be used by other users on your system, and you have the appropriate privileges, you'll want to select a standard location for source code such as <code class="literal">/usr/local/src</code>. Otherwise, your home directory is a logical choice. In the shell, change your default working directory with the following command:</p><pre class="programlisting">cd /usr/local/src</pre><p>Alternatively, simply use cd to go to your home directory.</p><p>Assuming you are connected to the Internet, acquire the source package as follows:</p><pre class="programlisting">wget http://www.lua.org/ftp/lua-5.1.1.tar.gz</pre><p>The program <code class="literal">wget</code> is a standard tool for retrieving Internet resources such as web pages and other files. If your system doesn't have it, you can try <code class="literal">curl</code> or an interactive web browser. The file you download will be in the form of a tarball that has the extension <code class="literal">.tar.gz</code>. Extract the contents as follows:</p><pre class="programlisting">tar xzvf lua-5.1.1.tar.gz</pre><p>The <code class="literal">tar</code> utility will recreate the same directory structure that the Lua authors used to package the source materials. Drop into the newly created directory by executing the following command:</p><pre class="programlisting">cd lua-5.1.1</pre><p>You'll use the <code class="literal">make</code> utility to control the build process. This utility reads a script, typically named <code class="literal">makefile</code>, that describes the dependency relationships between the various source files and intermediate and final targets. For example, one of the lines in Lua's <code class="literal">makefile</code> is as follows:<a id="IDX-CHP-1-0090" class="indexterm"></a><a id="IDX-CHP-1-0091" class="indexterm"></a><a id="IDX-CHP-1-0092" class="indexterm"></a><a id="IDX-CHP-1-0093" class="indexterm"></a><a id="IDX-CHP-1-0094" class="indexterm"></a></p><pre class="programlisting">lua.o: lua.c lua.h luaconf.h lauxlib.h lualib.h</pre><p>Here, <code class="literal">lua.o</code> is the object file that corresponds to <code class="literal">lua.c</code>, the main source file of the Lua interpreter. The other files that have the extension .h are header files that contain definitions and prototypes. This line is interpreted as: If <code class="literal">lua.o</code> is missing or if its timestamp is older than any of the timestamps of <code class="literal">lua.c, lua.h, luaconf.h, lauxlib.h</code>, or <code class="literal">lualib.h</code>, then invoke the appropriate rule to generate <code class="literal">lua.o</code>. The <code class="literal">make</code> utility is indispensable for keeping track of this kind of dependency and for automating the build process.</p><p>If you type <code class="literal">make</code> by itself, as shown in the following line, you get a list of the various platforms on which you can build Lua:</p><pre class="programlisting">make</pre><p>The output looks like this:</p><pre class="programlisting">Please do
      make PLATFORM
    where PLATFORM is one of these:
      aix ansi bsd generic linux macosx mingw posix solaris</pre><p>Select the platform that you're on. For example, if you are compiling on Linux, execute the following command:</p><pre class="programlisting">make linux</pre><p>You'll see the commands displayed on the console as they are executed.</p><p>If you are familiar with building other open-source packages, you'll notice that Lua's approach is a little different. There is no configuration stage to identify the characteristics of the system and create a tailor-made makefile. Instead, the platform argument you provide is all the information make needs to select the correct commands and parameters.</p><p>Because Lua has such standard requirements, it is unlikely that you will encounter any problems building it. If errors do occur at this stage, they are likely to be related to an incomplete installation of the C development tools or incorrectly configured search paths for header files or libraries. If that happens, read the documentation for your operating system distribution to install and configure the development tools properly.</p><p>With the default settings used here, <code class="literal">make</code> will generate the Lua interpreter (<code class="literal">lua</code>) and the Lua byte-code compiler (<code class="literal">luac</code>). These will be created in the <code class="literal">src</code> subdirectory. No shared libraries will be created—all of the Lua internals required by each of these executables will be statically linked. For example, components such as the parser will be embedded into both <code class="literal">lua</code> and <code class="literal">luac</code>, but the byte-code interpreter will be embedded only into <code class="literal">lua</code>.</p><p>After <code class="literal">make</code> completes, your shell prompt is displayed. If no error messages were encountered during the building process, you can test the Lua interpreter by executing the following command:<a id="IDX-CHP-1-0095" class="indexterm"></a><a id="IDX-CHP-1-0096" class="indexterm"></a></p><pre class="programlisting">make test</pre><p>That should result in output that looks like</p><pre class="programlisting">Hello world, from Lua 5.1!</pre><p>In the unlikely event that you don't get this response, the probable culprit is the unavailability of one or more runtime libraries. Although the Lua internals are statically linked into <code class="literal">lua</code>, other libraries are expected to be available for dynamic linking when <code class="literal">lua</code> is actually run. These runtime dependencies include the math library, the general purpose C library, and, depending on your platform, libraries that support screen formatting and text input editing and recall. List the shared library dependencies with the following <code class="literal">ldd</code> command:</p><pre class="programlisting">ldd src/lua</pre><p>The result is a series of lines such as this:</p><pre class="programlisting">libm.so.6 =&gt; /lib/libm.so.6 (0x40024000
libdl.so.2 =&gt; /lib/libdl.so.2 (0x40047000)</pre><p>If, in the output, you see one or more "not found" lines such as the following, you'll know that the referenced library is not present on your system or that the dynamic loader is unable to find it:</p><pre class="programlisting">libncurses.so.5 =&gt; not found</pre><p>In this case, consult your operating system documentation to guide you through the process of installing the missing library. Alternatively, you can rebuild <code class="literal">lua</code> with fewer dependencies with the command <code class="literal">make clean generic</code>.</p><p>If you have root privileges on your system and would like <code class="literal">lua</code> and <code class="literal">luac</code> to be available for other users, you should become root at this point. Do this with the following command:</p><pre class="programlisting">su –</pre><p>Alternatively, you can use the <code class="literal">sudo</code> command to elevate your privilege level for particular commands. In this case, prefix the command requiring root authority with <code class="literal">sudo</code>. In general, using sudo requires some configuration using the <code class="literal">visudo</code> command.</p><p>The hyphen tells the command that you want the root's environment, including its search paths, to be loaded. Doing so will likely change your default working directory, so you may need to return to the <code class="literal">lua</code> directory by using the <code class="literal">cd</code> command. For example:</p><pre class="programlisting">cd /usr/local/src/lua-5.1.1</pre><p>You're now ready to install the Lua executables, static library, header files, and manual pages. To do so, execute the following command:<a id="IDX-CHP-1-0097" class="indexterm"></a><a id="IDX-CHP-1-0098" class="indexterm"></a><a id="IDX-CHP-1-0099" class="indexterm"></a></p><pre class="programlisting">make install</pre><p>Then execute the following command to return to your nonroot session:<a id="IDX-CHP-1-0100" class="indexterm"></a></p><pre class="programlisting">exit</pre><p>The following command should present the <code class="literal">lua</code> manual page:</p><pre class="programlisting">man lua</pre><p>You can scroll up and down through the document by using the standard navigation keys. Press <span class="strong"><strong>Q</strong></span> to return to the shell itself.</p><p>Now enter following command:</p><pre class="programlisting">lua -v</pre><p>This should present you with a version statement like the following:</p><pre class="programlisting">Lua 5.1.1 Copyright (C) 1994-2006 Lua.org, PUC-Rio</pre><p>Any problem at this point indicates an issue that you can clarify with the following <code class="literal">which</code> command:</p><pre class="programlisting">which lua</pre><p>The response should be a line like this:</p><pre class="programlisting">/usr/local/bin/lua</pre><p>A response like the following means that <code class="literal">lua</code> was installed into a directory that is not in your <span class="emphasis"><em>search path</em></span>, which is an ordered list of directories that the operating system examines to resolve external commands:</p><pre class="programlisting">which: no lua in (/usr/local/bin:/usr/bin)</pre><p>You can remedy this by editing the <code class="literal">PATH</code> variable in your shell startup script to include the directory in which <code class="literal">lua</code> and <code class="literal">luac</code> were installed. You need to exit and restart the shell for these changes to take effect.</p><p>If you don't have root privileges or simply want to test the installation locally, you can execute the following command:<a id="IDX-CHP-1-0101" class="indexterm"></a></p><pre class="programlisting">make local</pre><p>This creates several additional directories such as bin and man beneath the current directory.</p><p>Alternatively, you can specify some other location for the installation. For example, if you want to install in /tmp/lua-5.1.1, execute the following command:<a id="IDX-CHP-1-0102" class="indexterm"></a><a id="IDX-CHP-1-0103" class="indexterm"></a><a id="IDX-CHP-1-0104" class="indexterm"></a><a id="IDX-CHP-1-0105" class="indexterm"></a><a id="IDX-CHP-1-0106" class="indexterm"></a><a id="IDX-CHP-1-0107" class="indexterm"></a><a id="IDX-CHP-1-0108" class="indexterm"></a><a id="IDX-CHP-1-0109" class="indexterm"></a><a id="IDX-CHP-1-0110" class="indexterm"></a><a id="IDX-CHP-1-0111" class="indexterm"></a><a id="IDX-CHP-1-0112" class="indexterm"></a><a id="IDX-CHP-1-0113" class="indexterm"></a></p><pre class="programlisting">make INSTALL_TOP=/tmp/lua-5.1.1 install</pre><p>In these last cases, you'll need to specify a full or relative path to lua, luac, and the man pages because the default search path won't include them. For example, to read the man page installed with the last example, execute the following:</p><pre class="programlisting">man /tmp/lua-5.1.1/man/man1/lua.1</pre><p>Then, to test <code class="literal">lua</code>, execute the following command:</p><pre class="programlisting">/tmp/lua-5.1.1/bin/lua -v</pre><p>This section led you through a basic build of Lua on Unix-like systems. Many options exist for configuring Lua in different ways. For example, you can configure Lua to use a primitive data type other than <code class="literal">double</code> for numbers. The curious can examine <code class="literal">src/luaconf.h</code> to see the configurable options. Your best approach at this point is to leave them at their default settings. This book assumes that you are using Lua with its default options.</p></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="compiling_lua_on_windows"></a>Compiling Lua on Windows</h2></div></div></div><p>Although Lua compiles cleanly on Windows, the makefile that comes with the Lua source package is oriented toward Unix-style systems. Unless you are using a Unix emulation layer such as Cygwin, you'll need to craft your own approach to the task of creating the Lua interpreter and byte-code compiler.</p><p>A lot of C/C++ compilers exist for Windows, and many of them are available for free. The tools in these SDKs generally have their own particular set of command line switches, configuration conventions, and system dependencies, making it impractical to cover more than one Windows SDK in this book. The instructions in this book assume you are using the Microsoft Visual C++ 6.0 SDK. Later versions of this kit have been released, but Visual C++ 6.0 is still widely used in the industry because of its support for a broad range of Windows versions. You can configure it to generate programs that use <code class="literal">MSVCRT.DLL</code>, a system library that is available on all 32-bit desktop versions of Windows. An effort has been made in this book to provide instructions that will generate applications and libraries that are compatible with the Lua binaries for Windows available on LuaForge. These binaries are easy to deploy, because they depend only on libraries that come with Windows.<a id="IDX-CHP-1-0114" class="indexterm"></a><a id="IDX-CHP-1-0115" class="indexterm"></a><a id="IDX-CHP-1-0116" class="indexterm"></a><a id="IDX-CHP-1-0117" class="indexterm"></a><a id="IDX-CHP-1-0118" class="indexterm"></a><a id="IDX-CHP-1-0119" class="indexterm"></a></p><p>If you have a later version of Visual C++ or are using another SDK (such as a product from Pelles C or Borland) you will need to consult the appropriate documentation to find how to build and deploy applications and libraries. Recent versions of the Microsoft C++ SDK require manifest files to be deployed along with applications and libraries.</p><p>The directions that follow create the Lua interpreter and compiler. Three approaches are shown. The first works well with Visual C++ 6.0. If you are some other large-scale C development system, follow these directions with the understanding that you may need to make toolkit-specific changes. The second approach is suitable for users of TCC, and the third applies to the MinGW SDK.</p><div class="sect3"><div class="titlepage"><div><div><h3 class="title"><a id="building_lua_with_microsoft_visual_c_plu"></a>Building Lua with Microsoft Visual C++</h3></div></div></div><p>First, make sure that the SDK's <code class="literal">bin</code> directory has been included in your system's search path. Under the SDK's <code class="literal">include</code> directory, make a subdirectory named <code class="literal">usr</code>. Similarly, under the SDK's <code class="literal">lib</code> directory, make a subdirectory named <code class="literal">usr</code>. Additionally, as covered in the environment section, you should set the <code class="literal">LIB</code> environment variable to the SDK's <code class="literal">lib</code> and <code class="literal">lib\usr</code> directories, and the <code class="literal">INCLUDE</code> environment variable to the SDK's include and <code class="literal">include\usr</code> directories. Your SDK may include a batch file named <code class="literal">vcvars32.bat</code> that can help with this. If you modify these environment variables, exit and restart the shell to have your changes take effect.</p><p>Create a directory in which to build Lua. The following lines assume that this will be <code class="literal">c:\dev:</code></p><pre class="programlisting">c:
    cd \
    mkdir dev
    cd dev</pre><p>Download <code class="literal">lua-5.1.1.tar.gz</code> and place it in this directory. Extract the contents. Here are the commands you would use with 7-zip:</p><pre class="programlisting">7z x lua-5.1.1.tar.gz
    7z x lua-5.1.1.tar</pre><p>This creates a subdirectory named <code class="literal">lua-5.1.1.</code> Delete <code class="literal">lua-5.1.1.tar</code> at this point, like this:</p><pre class="programlisting">del lua-5.1.1.tar</pre><p>Drop into the <code class="literal">src</code> subdirectory like this:</p><pre class="programlisting">cd lua-5.1.1\src</pre><p>Create a new text file and add the following lines:</p><pre class="programlisting">cl /MD /O2 /W3 /c /DLUA_BUILD_AS_DLL *.c
del *.o
ren lua.obj lua.o
ren luac.obj luac.o
ren print.obj print.o
link /DLL /IMPLIB:lua5.1.lib /OUT:lua5.1.dll *.obj
link /OUT:lua.exe lua.o lua5.1.lib
lib /out:lua5.1-static.lib *.obj
link /OUT:luac.exe luac.o print.o lua5.1-static.lib</pre><p>Save the file as <code class="literal">build.bat</code> in the current directory (<code class="literal">c:\dev\lua-5.1.1\src</code>).</p><p>While you're still in the <code class="literal">src</code> subdirectory, run the newly created batch script from the shell:</p><pre class="programlisting">build</pre><p>This compiles each of the source files into a corresponding object file. Prior to linking these object files into a dynamic link library, three object files are renamed to keep them from being included in the library. These are the interpreter, the compiler, and a support file for the compiler. Finally, the interpreter and compiler executables are created. The Lua interpreter is quite small, because its main functionality comes from the dynamic link library. To test the Lua interpreter, execute the following command:<a id="IDX-CHP-1-0120" class="indexterm"></a><a id="IDX-CHP-1-0121" class="indexterm"></a><a id="IDX-CHP-1-0122" class="indexterm"></a><a id="IDX-CHP-1-0123" class="indexterm"></a><a id="IDX-CHP-1-0124" class="indexterm"></a><a id="IDX-CHP-1-0125" class="indexterm"></a><a id="IDX-CHP-1-0126" class="indexterm"></a></p><pre class="programlisting">.\lua ..\test\hello.lua</pre><p>This should result in the following output:</p><pre class="programlisting">Hello world, from Lua 5.1!</pre><p>Copy the import library and header files associated with the dynamic-link library to standard development directories where your compiler and linker can find them. The approach taken here is to place them in the <code class="literal">usr</code> subdirectory beneath the SDK's <code class="literal">lib</code> and <code class="literal">include</code> directories. These subdirectories can then hold third-party files where they won't be confused with toolkit files.</p><p>To install Lua, create a file with the following contents:</p><pre class="programlisting">xcopy lua5.1.lib "%SDK_DIR%\lib\usr\*.*" /y
xcopy lua5.1-static.lib "%SDK_DIR%\lib\usr\*.*" /y
xcopy lua.exe "%UTIL_DIR%\*.*" /y
xcopy luac.exe "%UTIL_DIR%\*.*" /y
xcopy lua5.1.dll "%UTIL_DIR%\*.*" /y
xcopy lua.h "%SDK_DIR%\include\usr\*.*" /y
xcopy luaconf.h "%SDK_DIR%\include\usr\*.*" /y
xcopy lualib.h "%SDK_DIR%\include\usr\*.*" /y
xcopy lauxlib.h "%SDK_DIR%\include\usr\*.*" /y</pre><p>Save this file as <code class="literal">install.bat</code> in the <code class="literal">src</code> directory. Copy the files by executing this batch script:</p><pre class="programlisting">install</pre></div><div class="sect3"><div class="titlepage"><div><div><h3 class="title"><a id="building_lua_with_the_tiny_c_compiler"></a>Building Lua with the Tiny C Compiler</h3></div></div></div><p>The Tiny C Compiler (TCC) is a freely available C development system that you can use to build Lua on both Linux and Windows. It is discussed here because it is an excellent way for Windows users who don't have a C toolkit to familiarize themselves with developing programs in C. The TCC web site (<code class="systemitem">http://fabrice.bellard.free.fr/tcc</code>) contains a link to the Window binary distribution in the form of a zip file that includes everything you need to compile Lua.</p><p>TCC is perfectly suitable for building Lua itself, but you may want to consider a more full-featured SDK if you intend to build extension libraries for Lua.</p><p>Download the zip file and place it in the directory above the point where you want to install TCC. Assuming you are using the 7-zip utility and the version of the file is 0.9.23, extract the contents of the file as follows:</p><pre class="programlisting">7z x tcc-0.9.23.zip</pre><p>This creates the following subdirectory structure:</p><pre class="programlisting">tcc-0.9.23
      doc
      examples
      include
        sys
        winapi
      lib
      tcc</pre><p>With this particular version of TCC, you need to make two small adjustments before proceeding. In the <code class="literal">include/winapi</code> directory, open the <code class="literal">winnt.h</code> file with your text editor. On lines 1814 and 2288, change the occurrences of <code class="literal">Value</code> to <code class="literal">_Value</code>.</p><p>Change your working directory to Lua's source directory. For example, if you extracted the Lua tarball in <code class="literal">c:\dev</code>, use the following shell commands:</p><pre class="programlisting">c:
cd \dev\lua-5.1.1\src</pre><p>TCC requires a change to the file <code class="literal">ldo.c</code>. Open this file with your text editor and find line 487, which reads as follows:</p><pre class="programlisting">static void f_parser (lua_State *L, void *ud) {</pre><p>Just beneath it, add the following line:</p><pre class="programlisting">typedef Proto* (* load_func) (lua_State*, ZIO*, Mbuffer*, const char*);</pre><p>Several lines lower, find the line that includes</p><pre class="programlisting">((c == LUA_SIGNATURE[0]) ? luaU_undump : luaY_parser)</pre><p>and replace</p><pre class="programlisting">luaU_undump</pre><p>with</p><pre class="programlisting">(load_func) luaU_undump</pre><p>and</p><pre class="programlisting">luaY_parser</pre><p>with</p><pre class="programlisting">(load_func) luaY_parser.</pre><p>Use your text editor to prepare the following batch file. Adjust the first line if necessary to specify the directory in which you installed TCC. The second line begins with <code class="literal">SET TCCCMD</code> and ends with <code class="literal">lkernel32</code>—make sure it is all on one line. (The </p><div><img src="https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/figs/U002.png" alt="Building Lua with the Tiny C Compiler" width="12" height="12"></div><pre class="programlisting">SET TCCDIR=c:\program files\tcc-0.9.23
    SET TCCCMD="%TCCDIR%\tcc\tcc" -D_WIN32 -I"%TCCDIR%\include" <div><img src="https://learning.oreilly.com/library/view/beginning-lua-programming/9780470069172/figs/U002.png" alt="Building Lua with the Tiny C Compiler" width="12" height="12"></div>
    -I"%TCCDIR%\include\winapi" -L"%TCCDIR%\lib" -lkernel32
    ren luac.c luac.c0
    ren print.c print.c0
    %TCCCMD% -o lua.exe *.c
    ren lua.c lua.c0
    ren luac.c0 luac.c
    ren print.c0 print.c
    %TCCCMD% -o luac.exe *.c
    ren lua.c0 lua.c
    SET TCCDIR=
    SET TCCCMD=
    SET TCCIMP=</pre><p>Save this file as <code class="literal">build.bat</code> in the current directory. Build Lua by running this batch script:</p><pre class="programlisting">.\build</pre><p>Although TCC can generate dynamic link libraries, the code that is shown here builds statically linked versions of <code class="literal">lua.exe</code> and <code class="literal">luac.exe</code>. Copy these to your utility directory as follows:</p><pre class="programlisting">xcopy lua.exe "%UTIL_DIR%\*.*" /y
xcopy luac.exe "%UTIL_DIR%\*.*" /y</pre></div><div class="sect3"><div class="titlepage"><div><div><h3 class="title"><a id="building_lua_with_mingw"></a>Building Lua with MinGW</h3></div></div></div><p>The MinGW package provides you with all the command-line tools you need to develop Windows applications. An optional related package, MSYS, includes a Unix-like shell and, among other tools, <code class="literal">awk, bzip2, find, grep, sed, tar, vi</code>, and <code class="literal">which</code>. The instructions that follow cover only the use of MinGW, but MSYS is definitely worth investigating if you want the power and flexibility of working in a Unix-like development environment. The MinGW website has an excellent FAQ (Frequently Asked Questions) page as well as a comprehensive wiki to help you use the MinGW and MSYS systems to their fullest.<a id="IDX-CHP-1-0131" class="indexterm"></a></p><p>The following instructions show you how to install the MinGW system. You need about 50MB of space available on your disk. Obtain the following files (or more recent versions if they are available) from the current section of download page of the MinGW site, <code class="systemitem">www.mingw.org</code>:</p><pre class="programlisting">binutils-2.15.91-20040904-1.tar.gz
w32api-3.6.tar.gz
mingw-utils-0.3.tar.gz
gcc-core-3.4.2-20040916-1.tar.gz
mingw-runtime-3.9.tar.gz</pre><p>Create a directory for the MinGW files as follows:</p><div class="blockquote"><blockquote class="blockquote"><p>These instructions assume you will install MinGW in <code class="literal">c:\mingw</code>, but you can choose another location if you like. If you do, make the appropriate changes in the following lines.</p></blockquote></div><pre class="programlisting">c:
mkdir \mingw
cd \mingw</pre><p>Extract the contents of the tarballs as follows, changing all occurrences of <code class="literal">\path\to</code> to the directory where you placed the downloaded files:</p><div class="blockquote"><blockquote class="blockquote"><p>The 7-zip tool is used in this example; remember that its directory must be in the Windows search path. If you have downloaded more recent versions of any of these files, be sure to make the appropriate filename changes. .</p></blockquote></div><pre class="programlisting">7z x \path\to\binutils-2.15.91-20040904-1.tar.gz
7z x \path\to\w32api-3.6.tar.gz
7z x \path\to\mingw-utils-0.3.tar.gz
7z x \path\to\gcc-core-3.4.2-20040916-1.tar.gz
7z x \path\to\mingw-runtime-3.9.tar.gz
7z x -y *.tar
del *.tar</pre><p>Place <code class="literal">c:\mingw\bin</code> in your Windows search path. (See "<a class="link" href="ch01.html#the_windows_search_path" title="The Windows Search Path">The Windows Search Path</a>" earlier in this chapter for more details on setting this.)</p><p>Create a directory in which to build Lua. The following lines assume that this will be <code class="literal">c:\dev</code>:</p><pre class="programlisting">c:
mkdir \dev
cd \dev</pre><p>Extract the contents. Here's how to do this if you are using the 7-zip tool:</p><pre class="programlisting">7z x \path\to\lua-5.1.1.tar.gz
7z x lua-5.1.1.tar
del lua-5.1.1.tar</pre><p>Drop into the <code class="literal">src</code> subdirectory as follows:</p><pre class="programlisting">cd lua-5.1.1\src</pre><p>With your Windows text editor, create a new file with the following contents:</p><pre class="programlisting">gcc -O2 -Wall -c *.c
ren lua.o lua.obj
ren luac.o luac.obj
ren print.o print.obj
gcc -shared -Wl,--export-all-symbols -o lua5.1.dll *.o
strip --strip-unneeded lua5.1.dll
gcc -o lua.exe -s lua.obj lua5.1.dll -lm
gcc -o luac.exe -s -static luac.obj print.obj *.o -lm</pre><p>Save the file as <code class="literal">build.bat</code> in the <code class="literal">c:\dev\lua-5.1.1\src</code> directory. While you're still in Lua's src directory, invoke this batch file to build Lua:<a id="IDX-CHP-1-0132" class="indexterm"></a><a id="IDX-CHP-1-0133" class="indexterm"></a><a id="IDX-CHP-1-0134" class="indexterm"></a></p><pre class="programlisting">.\build</pre><p>The batch script generates three files: <code class="literal">lua.exe, luac.exe</code>, and <code class="literal">lua5.1.dll</code>. You can verify that they use only standard Windows libraries as follows:</p><div class="blockquote"><blockquote class="blockquote"><p>If you have installed the MSYS tools, replace <code class="literal">find</code> with <code class="literal">grep</code>.</p></blockquote></div><pre class="programlisting">objdump -x lua.exe | find "DLL Name"</pre><p>This will print the following import references:</p><pre class="programlisting">DLL Name: KERNEL32.dll
DLL Name: msvcrt.dll
DLL Name: lua5.1.dll</pre><p>You can repeat this for <code class="literal">luac.exe</code> and <code class="literal">lua5.1.dll</code>. Notice that <code class="literal">luac.exe</code> does not depend on lua5.1.dll.</p><p>Install the three files in your utility directory as follows:</p><pre class="programlisting">xcopy lua.exe "%UTIL_DIR%\*.*" /y
xcopy luac.exe "%UTIL_DIR%\*.*" /y
xcopy lua5.1.dll "%UTIL_DIR%\*.*" /y</pre></div></div></div><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="binary_packages"></a>Binary Packages</h1></div></div></div><p>Unlike source code that can conform to a wide spectrum of environments, binary applications (that is, those that have already been compiled) function only in a particular niche. Binary packages need to distinguish a number of factors, including the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Operating system (such as AIX, Solaris, Linux, or Windows)</p></li><li class="listitem"><p>Hardware architecture (such as 32-bit versus 64-bit or Intel versus PowerPC)</p></li><li class="listitem"><p>Required C runtime library (such as the various versions of the Microsoft Visual C runtime library)</p></li></ul></div><p>These are mostly issues that you don't have to be concerned with when compiling Lua from source code, but you do need to pay attention to when the packages are precompiled. Despite the plethora of different platforms, there is a good chance that you can find a binary package for your particular environment.</p><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="selecting_a_prebuilt_binary_package"></a>Selecting a Prebuilt Binary Package</h2></div></div></div><p>To acquire a Lua package precompiled for your platform, visit LuaForge (<code class="systemitem">http://luaforge.net/</code>), a web site devoted to open-source projects created and maintained by members of the growing Lua community. One of the most popular packages maintained at LuaForge is LuaBinaries, a set of ready-made Lua packages (<code class="systemitem">http://luaforge.net/projects/luabinaries/</code>). In the file download section of the LuaBinaries site is a list of files that includes entries like these:<a id="IDX-CHP-1-0135" class="indexterm"></a><a id="IDX-CHP-1-0136" class="indexterm"></a></p><pre class="programlisting">lua5_1_Win32_bin.tar.gz  82060 1,376 Intel x86 .gz
lua5_1_Linux26_bin.tar.gz 127132  80 Intel x86 .gz</pre><p>The names of these files include abbreviated information about their contents. For more detailed information about each of the packages, read the packaging file <code class="literal">(apackaging_lua5.1.html)</code> located in the same directory. It will help you select the appropriate package for your platform.</p></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="installing_a_prebuilt_binary_package_on"></a>Installing a Prebuilt Binary Package on a Unix-Type System</h2></div></div></div><p>After you have selected the appropriate tarball from the LuaBinaries site, download it and place it in the <code class="literal">/tmp</code> directory. The following commands assume you have selected <code class="literal">lua5_1_Linux24g3_bin.tar.gz</code>—make the appropriate changes if necessary. Unpack it as follows:</p><pre class="programlisting">cd /tmp
tar xzvf lua5_1_Linux24g3_bin.tar.gz</pre><p>This creates the following directory structure:</p><pre class="programlisting">lua5.1
  bin
    Linux24g3</pre><p>In the <code class="literal">Linux24g3</code> subdirectory are three files: the interpreter (<code class="literal">lua5.1</code>), the byte-code compiler (<code class="literal">luac5.1</code>), and a utility that helps with embedding Lua scripts into C programs (<code class="literal">bin2c5.1</code>). Make sure the interpreter works with your system, as follows:</p><pre class="programlisting">lua5.1/bin/Linux24g3/lua5.1 -v</pre><p>This should result in the following output:</p><pre class="programlisting">Lua 5.1 Copyright (C) 1994-2006 Lua.org, PUC-Rio</pre><p>You should get the same response when invoking the compiler with the <code class="literal">-v</code> switch. If you don't get this, you've likely selected a binary package that is incompatible with your operating system.</p><p>If the interpreter and compiler work with your system, move them to a location in your search path. If you have root privileges and want to make Lua available to all users of your system, the location <code class="literal">/usr/local/bin</code> is traditional. If you lack sufficient privileges or are interested only in using Lua yourself, the bin directory beneath your home directory is a good location. In this last case, you may need to create the bin subdirectory and set it as part of your PATH environment variable.</p><p>Assuming you have root privileges and want to make Lua available to all users of your system, execute these commands:<a id="IDX-CHP-1-0137" class="indexterm"></a><a id="IDX-CHP-1-0138" class="indexterm"></a></p><pre class="programlisting">su -
cd /tmp/lua5.1/bin/Linux24g3
mv lua5.1 /usr/local/bin/lua
mv luac5.1 /usr/local/bin/luac
chown root.root /usr/local/bin/{lua,luac}
chmod u=rwx,go=rx /usr/local/bin/{lua,luac}
cd /tmp
rm -fr lua5.1
exit</pre><p>Now you should be able to execute <code class="literal">lua</code> without any path qualification, like this:</p><pre class="programlisting">lua -v</pre></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="installing_a_prebuilt_binary_package-001"></a>Installing a Prebuilt Binary Package on Windows</h2></div></div></div><p>If you are installing onto a 32-bit version of Windows, a safe bet is to select the package named <code class="literal">lua5_1_Win32_bin.tar.gz</code>. This package uses the C runtime library <code class="literal">MSVCRT.DLL</code>, which is available on all recent versions of Windows.</p><p>After you download one of the tarballs, you need to extract the package contents to a suitable location using a utility such as Winzip or 7-zip. The following instructions assume you have downloaded the package <code class="literal">lua5_1_Win32_bin.tar.gz</code> and are using the 7-zip command-line utility—make the appropriate changes if you have selected a different package or are using a different extraction utility. Place the package in the directory of your choice, and then execute the following commands at a shell prompt:</p><pre class="programlisting">7z x lua5_1_Win32_bin.tar.gz
7z x lua5_1_Win32_bin.tar
del lua5_1_Win32_bin.tar</pre><p>The following directory structure will be created:</p><pre class="programlisting">lua5.1
  bin
    Win32</pre><p>Four files are included in the Win32 subdirectory: the interpreter (<code class="literal">lua5.1.exe</code>), the byte-code compiler (<code class="literal">luac5.1.exe</code>), the Lua core in dynamic link library form (<code class="literal">lua5.1.dll</code>), and an embedding tool (<code class="literal">bin2c5.1.exe</code>). Change your default working directory to Win32 with the following command:<a id="IDX-CHP-1-0139" class="indexterm"></a></p><pre class="programlisting">cd lua5.1\bin\Win32</pre><p>Install the dynamic link library and executables as follows:</p><pre class="programlisting">copy /b lua5.1.exe "%UTIL_DIR%\lua.exe"
copy /b luac5.1.exe "%UTIL_DIR%\luac.exe"
copy /b lua5.1.dll "%UTIL_DIR%\"
copy /b bin2c5.1.exe "%UTIL_DIR%\bin2c.exe"</pre><p>You do not rename the library, <code class="literal">lua5.1.dll</code>, because references to it are embedded in the interpreter and compiler.<a id="IDX-CHP-1-0140" class="indexterm"></a><a id="IDX-CHP-1-0141" class="indexterm"></a><a id="IDX-CHP-1-0142" class="indexterm"></a></p><p>Type <span class="strong"><strong>lua -v</strong></span> and <span class="strong"><strong>luac -v</strong></span> from any working directory to make sure the two programs are accessible on the search path.</p><p>An additional nicety is to add the Lua icon to this directory. You can copy the icon named <code class="literal">lua.ico</code> in the <code class="literal">etc</code> directory of the Lua source package to the utility directory.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="additional_tools"></a>Additional Tools</h1></div></div></div><p>While on the topic of getting situated with Lua, a few notes about programming editors and script management are appropriate. Although these tools and methods are not required to create programs, their use definitely makes you more productive.</p><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="programmer_apostrophy_s_editor"></a>Programmer's Editor</h2></div></div></div><p>One tool you want to choose carefully is your text editor. You'll use it not only to create Lua scripts, but also to read and search through them. A vast number of free and commercial text editors are available for all mainstream platforms. Wikipedia has a comprehensive summary of their availability and features at <code class="systemitem">http://en.wikipedia.org/wiki/Comparison_of_text_editors</code>. Programmer's editors provide features well beyond the basic editing of text including features such as the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Advanced search and replace using regular expressions, a powerful form of recognizing patterns in text</p></li><li class="listitem"><p>Syntax highlighting that gives you visual confirmation that your script is properly structured</p></li><li class="listitem"><p>Multiple undoing and redoing</p></li><li class="listitem"><p>Bracket matching</p></li><li class="listitem"><p>The capability to automatically hide portions of text and code</p></li><li class="listitem"><p>Macros to automatically repeat time-consuming or error-prone operations</p></li><li class="listitem"><p>The capability to filter selected portions of text through an external program (that is, one written in Lua) to process text in ways that might be awkward or complicated using the editor's own commands</p></li></ul></div><p>Most programmer's editors enable you to configure syntax highlighting for various programming languages, and syntax highlighting for Lua is provided as part of many editor packages. An editor's highlighting mechanism might have trouble with Lua's novel way of handling multiline comments and strings, but you can usually configure it to handle those constructions at least gracefully if not perfectly.</p></div><div class="sect2"><div class="titlepage"><div><div><h2 class="title"><a id="revision_control_system"></a>Revision Control System</h2></div></div></div><p>Organizing your Lua scripts in a directory or directory tree makes it easier to reuse code that you have written. It also simplifies your managing those scripts with a revision control system such as CVS or Subversion. A revision control system enables you to do the following:<a id="IDX-CHP-1-0143" class="indexterm"></a><a id="IDX-CHP-1-0144" class="indexterm"></a><a id="IDX-CHP-1-0145" class="indexterm"></a><a id="IDX-CHP-1-0146" class="indexterm"></a></p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Recover an earlier revision of a script</p></li><li class="listitem"><p>Review the history of a script's progress in the form of commit log entries</p></li><li class="listitem"><p>Safely develop scripts from more than one machine</p></li><li class="listitem"><p>Back up your work easily because only the repository needs to be backed up</p></li><li class="listitem"><p>Create and merge multiple sets of files—known as <span class="emphasis"><em>branches</em></span>—to distinguish between the installed and developmental versions of your scripts</p></li></ul></div><p>One advanced system, Monotone, uses distributed repositories with Lua as a scripting language. Revision control is usually associated with collaborative team efforts, but it has many benefits for the independent programmer as well. The usual cycle is to edit and test your script until you reach some sort of milestone, and then commit the script with a note to the revision control system's repository.</p><p>Many well-written books and how-to guides exist for setting up and using open-source revision control systems.</p></div></div><div class="sect1"><div class="titlepage"><div><div><h1 class="title"><a id="summary"></a>Summary</h1></div></div></div><p>You now have a working Lua interpreter and compiler on your system.</p><p>In this chapter, you learned about the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Lua's package structure</p></li><li class="listitem"><p>How to build Lua from scratch</p></li><li class="listitem"><p>How to install a precompiled Lua package</p></li><li class="listitem"><p>The advantages of a programmer's editor</p></li><li class="listitem"><p>The advantages of a revision control system for your source code</p></li></ul></div><p>You'll use the various shell operations you learned about in the chapters ahead. When you extend Lua's functionality with libraries, you'll use the same techniques to obtain and install the libraries as you did in this chapter for Lua itself.</p></div></div></div>



  <div class="t-sbo-prev sbo-prev sbo-nav-bottom">
  
    
      
        <a href="pr05.html" class="prev nav-link">
      
          <span aria-hidden="true" class="pagination-label t-prev-label">Prev</span>
          <span class="visuallyhidden">Previous Chapter</span>
          <div class="pagination-title t-prev-title">Introduction</div>
        </a>
    
  
  </div>

  <div class="t-sbo-next sbo-next sbo-nav-bottom">
  
    
      
        <a href="ch02.html" class="next nav-link">
      
          <span aria-hidden="true" class="pagination-label t-next-label">Next</span>
          <span class="visuallyhidden">Next Chapter</span>
          <div class="pagination-title t-next-title">2. First Steps</div>
        </a>
    
  
  </div>


        
    </section>
  </div>
<section class="sbo-saved-archives"></section>



          
          
  




    
    
      <div id="js-subscribe-nag" class="subscribe-nag clearfix trial-panel t-subscribe-nag">
        
        

        
          <p>You have 6 days left in your trial, Michaelschiner. Subscribe today. <a href="https://learning.oreilly.com/subscribe/" class="ga-active-trial-subscribe-nag">See pricing options.</a></p>
        
        

      </div>

    
    



        
      </div>
      
        

<footer class="pagefoot t-pagefoot">
  <a href="ch01.html#" class="icon-up" onclick="window.Appcues.track('JumpTop_HeronBook')"><div class="visuallyhidden">Back to top</div></a>
  <ul class='js-footer-nav'>
  
    
    <li><a href="https://learning.oreilly.com/public/support/">Support</a></li>
    
    <li><a href="https://learning.oreilly.com/accounts/logout/">Sign Out</a></li>
    
  
  
  </ul>
  <span class="copyright">&#169; 2021 <a href="https://learning.oreilly.com/" target="_blank">O'Reilly Media, Inc</a>.</span>
  
    
    <a href="https://www.oreilly.com/terms/">Terms of Service</a> 
     / 
    
    <a href="https://learning.oreilly.com/privacy">Privacy Policy</a> 
    
    
  
</footer>

      
    
    <script src="https://learning.oreilly.com/jsi18n/web/" charset="utf-8"></script>
    <script src="https://learning.oreilly.com/library/jsi18n/appcache/" charset="utf-8"></script>
  </body>
</html>
